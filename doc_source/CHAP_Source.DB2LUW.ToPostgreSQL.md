# Converting DB2 LUW to Amazon RDS for PostgreSQL or Amazon Aurora \(PostgreSQL\)<a name="CHAP_Source.DB2LUW.ToPostgreSQL"></a>

Some things to consider when migrating IBM Db2 LUW to ToPostgreSQL: 
+ AWS SCT can convert various trigger statements used with Db2 LUW\. These trigger statements include the following:
  +  Trigger events \- INSERT, DELETE, and UPDATE trigger events specify that the triggered action runs whenever the event is applied to the subject table or subject view\. You can specify any combination of the INSERT, DELETE, and UPDATE events, but you can specify each event only once\. AWS SCT supports single and multiple trigger events\. For events, PostgreSQL has practically the same functionality\. 
  + Event OF COLUMN \- You can specify a column name from a base table\. The trigger is activated only by the update of a column that is identified in the column\-name list\. PostgreSQL has the same functionality\.
  + Statement triggers – These specify that the triggered action is applied only once for the whole statement\. You can’t specify this type of trigger granularity for a BEFORE trigger or an INSTEAD OF trigger\. If specified, an UPDATE or DELETE trigger is activated, even if no rows are affected\. PostgreSQL also has this functionality and trigger declaration for statement triggers is identical for PostgreSQL and Db2 LUW\.
  + Referencing clauses – These specify the correlation names for transition variables and the table names for transition tables\. Correlation names identify a specific row in the set of rows affected by the triggering SQL operation\. Table names identify the complete set of affected rows\. Each row affected by a triggering SQL operation is available to the triggered action by qualifying columns with specified correlation\-names\. PostgreSQL doesn’t support this functionality, and only uses a NEW or OLD correlation name\.
  + AWS SCT supports INSTEAD OF triggers\.

## Converting DB2 LUW Partitioned Tables to PostgreSQL Version 10 Partitioned Tables<a name="CHAP_Source.DB2LUW.ToPostgreSQL.PartitionedTables"></a>

AWS SCT can convert Db2 LUW tables to partitioned tables in PostgreSQL 10\. There are several restrictions when converting a Db2 LUW partitioned table to PostgreSQL:
+ You can create a partitioned table with a nullable column in Db2 LUW, and you can specify a partition to store NULL values\. However, PostgreSQL doesn’t support NULL values for RANGE partitioning\.
+ Db2 LUW can use an INCLUSIVE or EXCLUSIVE clause to set range boundary values\. PostgreSQL only supports INCLUSIVE for a starting boundary and EXCLUSIVE for an ending boundary\. The converted partition name is in the format <original\_table\_name>\_<original\_partition\_name>\.
+ You can create primary or unique keys for partitioned tables in Db2 LUW\. PostgreSQL requires you to create primary or unique key for each partition directly\. Primary or unique key constraints must be removed from the parent table\. The converted key name is in the format <original\_key\_name>\_<original\_partition \_name>\.
+ You can create a foreign key constraint from and to a partitioned table in Db2 LUW\. However, PostgreSQL doesn’t support foreign keys references in partitioned tables\. PostgreSQL also doesn’t support foreign key references from a partitioned table to another table\.
+ You can create an index on a partitioned table in Db2 LUW\. However, PostgreSQL requires you to create an index for each partition directly\. Indexes must be removed from the parent table\. The converted index name is in the format <original\_index\_name>\_<original\_partition\_name>\.
+ You must define row triggers on individual partitions, not on the partitioned table\. Triggers must be removed from the parent table\. The converted trigger name is in the format <original\_trigger\_name>\_<original\_partition\_name>\.